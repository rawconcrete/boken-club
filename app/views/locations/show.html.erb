<div class="row">
  <!-- location details section -->
  <div class="col-md-8">
    <div class="card">
      <div class="card-body">
        <p class="mb-3"><%= @location.city %>, <%= @location.prefecture %></p>
        <p class="mb-3"><%= @location.adventures.map(&:name).join(", ") %></p>
        <p class="mb-3"><%= @location.details %></p>
        <% if @location.tips.present? %>
          <p class="mb-3"><%= @location.tips %></p>
        <% end %>
        <% if @location.warnings.present? %>
          <div class="alert alert-danger">
            <i class="fas fa-exclamation-triangle me-2"></i>
            <%= @location.warnings %>
          </div>
        <% end %>
        <div class="geocoder-map" style="width: 100%; height: 600px;"
        data-controller="map"
        data-map-markers-value="<%= @markers.to_json %>"
        data-map-api-key-value="<%= ENV['MAPBOX_API_KEY'] %>">
        </div>
        <%= link_to "Plan a Trip Here", new_travel_plan_path(location_id: @location.id),
          class: "btn btn-primary btn-sm flex-fill",
          data: { turbo_frame: "_top" } %>
        <%= link_to "Back", :back,
          class: "btn btn-primary btn-sm flex-fill",
          data: { turbo_frame: "_top" } %>
      </div>
    </div>
    <!-- Add safety warnings below the main card -->
    <%= render 'shared/location_warnings', location: @location %>
  </div>
